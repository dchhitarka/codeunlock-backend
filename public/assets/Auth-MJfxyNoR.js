function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/Profile-BJP6fAwI.js","assets/index-DcZMDsWX.js","assets/index-B0ALUG50.css","assets/Profile-Cu54JCC0.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{r as a,U as k,u as C,j as e,c as I,L as j,d as U,e as i,_ as O,f as T,S as $,R as u}from"./index-DcZMDsWX.js";import{u as G}from"./Reducers-FdYVeQEV.js";function b(s){var d,h,g,x;const{updateUser:v}=a.useContext(k),[N,R]=a.useReducer(G,{loading:!1}),[l,y]=a.useState(""),[c,E]=a.useState(""),[o,L]=a.useState(!0),[S,n]=a.useState(((h=(d=s==null?void 0:s.location)==null?void 0:d.state)==null?void 0:h.err)||""),[_,w]=a.useState(()=>{var t,r,f;return((t=s==null?void 0:s.location)==null?void 0:t.state)&&((f=(r=s==null?void 0:s.location)==null?void 0:r.state)==null?void 0:f.msg)||""}),m=C(),A=t=>{var r;t.status?i.login(t,o).then(()=>{v({...t,isAuthenticated:!0,login:i.login,logout:i.logout,register:i.register}),localStorage.setItem("AUTH_TOKEN",t.access_token),m.go(-1)}):(n(`${t.error??""}`),(((r=t==null?void 0:t.error)==null?void 0:r.error)==="Account not verified"||t.error==="Account not verified")&&m.push({pathname:"/u/verify",state:{msg:"Verify your account",sendmail:!0}}))},P=t=>{t.preventDefault(),w(null),l===""||c===""?n("Email or Password can't be empty"):(n(null),U({email:l,password:c,remember:o},R).then(r=>{console.log(r),A(r)}).catch(r=>{n(r.message)}))};return e.jsx("div",{className:"login",children:N.loading?e.jsx(I,{}):e.jsxs("form",{className:"login-form",onSubmit:P,children:[e.jsxs("div",{className:"form-header",children:[e.jsx("div",{className:"form-heading",children:"LOGIN"}),e.jsx("div",{className:"form-error",children:((x=(g=s==null?void 0:s.location)==null?void 0:g.state)==null?void 0:x.err)||S}),e.jsx("div",{className:"form-error",style:{color:"green"},children:_})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{className:"form-label",children:"Email"}),e.jsx("input",{type:"email",value:l,name:"email",id:"email",placeholder:"user@account.com",onChange:t=>y(t.target.value),required:!0})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{className:"form-label",children:"Password"}),e.jsx("input",{type:"password",value:c,name:"password",id:"password",onChange:t=>E(t.target.value),required:!0})]}),e.jsxs("div",{className:"form-input form-foot",children:[e.jsxs("label",{className:"form-label remember",children:[e.jsx("input",{type:"checkbox",value:o,name:"remember",id:"remember",checked:o,onChange:t=>L(t.target.checked)}),e.jsx("span",{children:"Remember Me"})]}),e.jsx(j,{to:"/u/forgot",style:{color:"blue"},children:"Forgot Password"})]}),e.jsxs("div",{className:"form-submit",children:[e.jsx("button",{className:"form-button login-button active-button",children:"LOGIN"}),e.jsx(j,{to:"/u/register",children:e.jsx("button",{className:"form-button register-button unactive-button",children:"REGISTER"})})]})]})})}const M=lazy(()=>O(()=>import("./Profile-BJP6fAwI.js"),__vite__mapDeps([0,1,2,3]))),F=()=>{let s=T();return e.jsx("div",{children:e.jsxs($,{children:[e.jsx(LoggedRoute,{exact:!0,path:`${s.path}/dashboard`,component:M}),e.jsx(u,{path:`${s.path}/login`,children:e.jsx(b,{})}),e.jsx(u,{path:`${s.path}/register`,children:e.jsx(Register,{})}),e.jsx(u,{path:s.path,children:e.jsx(b,{})})]})})};export{F as default};
