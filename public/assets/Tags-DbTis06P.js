import{r as t,U as h,u as x,j as s,L as j,k as w,l as N,c as v}from"./index-DcZMDsWX.js";import{t as T}from"./Reducers-FdYVeQEV.js";/* empty css             */import{P as b}from"./Popup-bydbHcy1.js";const L=({tag:e,index:o})=>{const l=t.useContext(h).user,[i,a]=t.useState(!1),[u,g]=t.useState(),[f,m]=t.useState(),[n,d]=t.useState(()=>({follows:!!e.engagements.find(c=>parseInt(c.user_id)===parseInt(l.id)),followers:e.followers,message:""})),p=x();return s.jsxs("div",{className:"tag-card",children:[i&&s.jsx(b,{message:u,type:f}),s.jsxs("div",{className:"card-header",children:[s.jsx(j,{to:`/tags/${e.tag_slug}`,children:s.jsxs("div",{className:"tag",children:["#",e.tag]})}),s.jsx("button",{onClick:()=>{l.isAuthenticated?w(e.id,l.id).then(r=>{n.follows,d(r);const c=r.follows?"Tag Following":"Tag Unfollowed";console.log(c),g(c),m("success"),a(!0),setTimeout(()=>a(!1),2500)}):p.push("/login")},className:n.follows?`form-button active-button follow-tag-${o}`:`form-button unactive-button follow-tag-${o}`,children:n.follows?"FOLLOWING":"FOLLOW"})]}),s.jsxs("div",{className:"card-body",children:[s.jsx("div",{className:"tag-desc",children:e.description!=null?e.description:s.jsx("span",{className:"no-desc",children:"No description available!"})}),s.jsxs("div",{className:"post_count",children:[e.post_count," Posts | ",n.followers||0," Followers"]})]})]},o)};function C(){const[e,o]=t.useReducer(T,{tags:[],loading:!0});return document.title="Tags | CodeUnlock.in",t.useEffect(()=>{N(o)},[]),s.jsx(s.Fragment,{children:e.loading?s.jsx(v,{}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"sec-header",children:[s.jsx("i",{className:"fas fa-tags",style:{fontSize:"18px",marginRight:"4px"}}),s.jsx("span",{children:"Tags"})]}),s.jsx("div",{className:"tag-list",children:e.tags.length!==0&&Object.entries(e.tags).map(([l,i],a)=>s.jsx(L,{tag:i,index:a},a))})]})})}export{C as default};
