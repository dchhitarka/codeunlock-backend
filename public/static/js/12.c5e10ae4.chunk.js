(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[12],{46:function(e,t,c){"use strict";c.d(t,"b",(function(){return n})),c.d(t,"c",(function(){return o})),c.d(t,"d",(function(){return i})),c.d(t,"a",(function(){return r}));var s=c(5),a=c(4),n=function(e,t){switch(t.type){case a.n:return{loading:!0};case a.i:return{posts:t.payload,loading:!1};case a.h:case"EDIT_POST":return Object(s.a)(Object(s.a)({},t.payload),{},{loading:!1});case a.o:case a.c:return Object(s.a)(Object(s.a)({},t.payload),{},{loading:!1});case a.f:return{msg:t.payload,loading:!1,error:!0};default:return e}},o=function(e,t){switch(t.type){case a.n:return Object(s.a)(Object(s.a)({},e),{},{loading:!0});case a.k:return{tags:t.payload,loading:!1};case a.d:case a.j:case a.p:case a.f:return Object(s.a)(Object(s.a)({},t.payload),{},{loading:!1});default:return e}},i=function(e,t){switch(t.type){case a.n:return Object(s.a)(Object(s.a)({},e),{},{loading:!0});case a.m:return t.payload;case a.l:return{user:t.payload,loading:!1};case a.e:case a.f:return{user:null,error:t.payload,loading:!1};case"STOP_LOADING":return Object(s.a)(Object(s.a)({},e),{},{loading:!1});default:return e}},r=function(e,t){switch(t.type){case a.g:case a.b:case a.a:case a.f:return t.payload;default:return e}}},53:function(e,t,c){"use strict";c.d(t,"a",(function(){return a}));c(0),c(55);var s=c(2);function a(e){var t=e.message,c=e.type;return t.includes("Successfully")&&(t="Post "+t.split(" ")[1]),Object(s.jsx)("div",{className:"inner",children:Object(s.jsx)("div",{className:"flash-messages",children:Object(s.jsxs)("div",{className:"flash flash--".concat(c),children:[Object(s.jsx)("p",{className:"flash__text",children:t}),Object(s.jsx)("button",{className:"flash__remove",onClick:function(e){return e.target.parentNode.parentNode.remove()},children:"\xd7"})]})})})}},55:function(e,t,c){},56:function(e,t,c){"use strict";t.a=c.p+"static/media/noimage.3684e37c.png"},61:function(e,t,c){},99:function(e,t,c){"use strict";c.r(t),c.d(t,"PostBody",(function(){return k}));var s=c(17),a=c(5),n=c(15),o=c(0),i=c(6),r=c(16),l=c(69),u=c.n(l),d=c(46),j=c(18),b=c(52),m=(c(61),c(62),c(56)),O=c(19),h=c(53),p=c(14),f=c(527),g=c(513),v=c(2);function x(e){var t=e.post,c=Object(o.useContext)(p.a).userState,s=Object(o.useState)(void 0),r=Object(n.a)(s,2),l=r[0],u=r[1],b=Object(o.useState)(void 0),m=Object(n.a)(b,2),O=m[0],f=m[1],g=Object(o.useState)(void 0),x=Object(n.a)(g,2),k=x[0],y=x[1],N=Object(o.useReducer)(d.b,{likes:t.post_likes||0,bookmarks:t.post_bookmarks||0}),S=Object(n.a)(N,2),_=S[0],w=S[1],C=Object(o.useState)({like:0,bookmark:0}),T=Object(n.a)(C,2),q=T[0],A=T[1];Object(o.useEffect)((function(){var e;(null===(e=t.post_engagements)||void 0===e?void 0:e.length)>0&&A({like:parseInt(t.post_engagements[0].like),bookmark:parseInt(t.post_engagements[0].bookmark)})}),[t.post_engagements]);var E=Object(i.g)();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"popup",children:[O&&Object(v.jsx)(h.a,{message:O,type:"success"}),k&&Object(v.jsx)(h.a,{message:k,type:"success"}),l&&Object(v.jsx)(h.a,{message:l,type:"success"})]}),Object(v.jsxs)("div",{className:"post-engage",children:[Object(v.jsxs)("div",{className:"action like",children:[Object(v.jsx)("div",{className:"post-like",onClick:function(){c.isAuthenticated?(document.querySelector(".like-icon").style.transform="scale(0.5, 0.5)",document.querySelector(".like-icon").style.transition="0.1s",setTimeout((function(){document.querySelector(".like-icon").style.transform="scale(1, 1)"}),100),Object(j.h)(w,t.id,c.id,"like").then((function(e){q.like?A((function(e){return Object(a.a)(Object(a.a)({},e),{},{like:0})})):A((function(e){return Object(a.a)(Object(a.a)({},e),{},{like:1})})),f(e.message),setTimeout((function(){return f(void 0)}),2500)}))):E.push("/u/login")},children:Object(v.jsx)("i",{className:1===q.like||!0===q.like?"fas fa-thumbs-up like-icon":"far fa-thumbs-up like-icon",children:Object(v.jsx)("abbr",{title:"Copy Link"})})}),Object(v.jsx)("div",{className:"stats",children:_.likes})]}),Object(v.jsxs)("div",{className:"action bookmark",children:[Object(v.jsx)("div",{className:"post-bookmark",onClick:function(){c.isAuthenticated?(document.querySelector(".bookmark-icon").style.transform="scale(0.5, 0.5)",document.querySelector(".bookmark-icon").style.transition="0.1s",setTimeout((function(){document.querySelector(".bookmark-icon").style.transform="scale(1, 1)"}),100),Object(j.h)(w,t.id,c.id,"bookmark").then((function(e){q.bookmark?A((function(e){return Object(a.a)(Object(a.a)({},e),{},{bookmark:0})})):A((function(e){return Object(a.a)(Object(a.a)({},e),{},{bookmark:1})})),y(e.message),setTimeout((function(){return y(void 0)}),2500)}))):E.push("/u/login")},children:Object(v.jsx)("i",{className:q.bookmark?"fas fa-bookmark bookmark-icon":"far fa-bookmark bookmark-icon"})}),Object(v.jsx)("div",{className:"book-stats",style:{paddingTop:"6px"},children:_.bookmarks})]}),Object(v.jsx)("div",{className:"action share",children:Object(v.jsx)("div",{className:"post-share",onClick:function(e){document.querySelector(".share-icon").style.transform="scale(0.5, 0.5)",document.querySelector(".share-icon").style.transition="0.25s",setTimeout((function(){document.querySelector(".share-icon").style.transform="scale(1, 1)"}),150);var t=window.location.href,c=document.createElement("input");c.setAttribute("type","text"),c.setAttribute("value",t),c.setAttribute("id","url-copy"),document.getElementsByTagName("body")[0].appendChild(c),c.select(),c.setSelectionRange(0,99999),document.execCommand("copy"),document.getElementsByTagName("body")[0].removeChild(c),document.querySelector(".share-icon").classList.remove("far"),document.querySelector(".share-icon").classList.add("fas"),setTimeout((function(){var e,t,c,s,a,n;null===(e=document)||void 0===e||null===(t=e.querySelector(".share-icon"))||void 0===t||null===(c=t.classList)||void 0===c||c.add("far"),null===(s=document)||void 0===s||null===(a=s.querySelector(".share-icon"))||void 0===a||null===(n=a.classList)||void 0===n||n.remove("fas")}),2500),u("Link copied successfully!"),setTimeout((function(){u(void 0)}),2500)},children:Object(v.jsx)("i",{className:"far fa-copy share-icon"})})})]})]})}function k(e){var t,c,n=e.post,o=["red","indigo","blue","green","yellow","orange","violet"];return Object(v.jsxs)("section",{className:"post",children:[Object(v.jsx)("h1",{className:"title",children:n.post_title}),Object(v.jsxs)("div",{className:"metadata",children:[Object(v.jsx)("div",{className:"post-date",style:{display:"flex",alignItems:"center"},children:Object(v.jsxs)("span",{children:["Published On: ",Object(b.a)(null!==(t=null===n||void 0===n?void 0:n.published_on)&&void 0!==t?t:null===n||void 0===n?void 0:n.created_at)]})}),Object(v.jsx)("div",{className:"post-tags",children:n.tags&&n.tags.map((function(e,t){return Object(v.jsx)(r.b,{to:"/tags/".concat(e.tag_slug),children:Object(v.jsx)("span",{className:"post-tag",onMouseOver:function(e){return e.target.style.opacity="0.8"},onMouseLeave:function(e){return e.target.style.opacity="1"},style:{backgroundColor:o[t]},children:"#".concat(e.tag)},t)},t)}))})]}),Object(v.jsx)("img",{className:"image",onError:function(e){e.target.src=m.a,e.target.style.display="none"},src:null!==(c=n.post_image)&&void 0!==c?c:"",alt:"Post"}),Object(v.jsx)("div",{className:"content",children:Object(v.jsx)(u.a,{children:n.post_body,components:{code:function(e){e.node;var t=e.inline,c=e.className,n=e.children,o=Object(s.a)(e,["node","inline","className","children"]),i=/language-(\w+)/.exec(c||"");return!t&&i?Object(v.jsx)(f.a,Object(a.a)({children:String(n).replace(/\n$/,""),style:g.a,language:i[1],PreTag:"div"},o)):Object(v.jsx)("code",Object(a.a)(Object(a.a)({className:c},o),{},{children:n}))}}})}),Object(v.jsx)("hr",{})]})}function y(e){var t=e.post,c=Object(o.useContext)(p.a).userState,r=Object(o.useReducer)(d.a,[]),l=Object(n.a)(r,2),m=l[0],O=l[1],h=Object(o.useState)(""),x=Object(n.a)(h,2),k=x[0],y=x[1],N=Object(i.g)();return Object(o.useEffect)((function(){Object(j.i)(t.id,O)}),[]),Object(v.jsxs)("section",{className:"comments",children:[Object(v.jsx)("h1",{children:"Discussion"}),Object(v.jsx)("span",{children:"You can use markdown in the comment box! :)"}),Object(v.jsxs)("form",{className:"new-comment",onSubmit:function(e){c.isAuthenticated?(e.preventDefault(),Object(j.a)({comment:k,postId:t.id},O),y("")):N.push("/u/login")},children:[Object(v.jsx)("textarea",{className:"comment-input",value:k,rows:"5",placeholder:"Share your thoughts!",onChange:function(e){return y(e.target.value)},required:!0}),Object(v.jsx)("div",{className:"comment-bottom",children:Object(v.jsx)("input",{type:"submit",value:"SHARE",className:"comment-submit"})})]}),Object(v.jsxs)("div",{className:"all-comments",children:[m.length>0&&Object(v.jsxs)("h2",{style:{padding:"4px"},children:[m.length," Comments",Object(v.jsx)("hr",{})]}),m.length>0&&m.map((function(e,t){return Object(v.jsxs)("div",{className:"comment-box",children:[Object(v.jsxs)("div",{className:"comment-author",children:[Object(v.jsx)("img",{src:e.user.avatar,width:"30",height:"30",alt:"User",className:"avatar"}),Object(v.jsx)("div",{className:"author",children:e.user.name}),Object(v.jsx)("div",{className:"comment-date",children:Object(b.a)(e.created_at)})]}),Object(v.jsx)("div",{style:{margin:2,padding:5},children:Object(v.jsx)(u.a,{children:e.comment_body,components:{code:function(e){e.node;var t=e.inline,c=e.className,n=e.children,o=Object(s.a)(e,["node","inline","className","children"]),i=/language-(\w+)/.exec(c||"");return!t&&i?Object(v.jsx)(f.a,Object(a.a)({children:String(n).replace(/\n$/,""),style:g.a,language:i[1],PreTag:"div"},o)):Object(v.jsx)("code",Object(a.a)(Object(a.a)({className:c},o),{},{children:n}))}}})})]},t)}))]})]})}t.default=function(){var e,t=Object(o.useContext)(p.a).userState,c=Object(i.h)().postSlug,s=Object(o.useReducer)(d.b,{loading:!0}),a=Object(n.a)(s,2),r=a[0],l=a[1];return document.title="".concat(null!==(e=null===r||void 0===r?void 0:r.post_title)&&void 0!==e?e:window.location.pathname.split("/posts/")[1].split("-").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join(" ")," | CodeUnlock.in"),Object(o.useEffect)((function(){Object(j.j)(c,l,t.isAuthenticated)}),[t.isAuthenticated]),Object(v.jsxs)(v.Fragment,{children:[r.loading&&Object(v.jsx)(O.a,{}),!r.loading&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(x,{post:r}),Object(v.jsx)(k,{post:r}),Object(v.jsx)(y,{post:r})]})]})}}}]);
//# sourceMappingURL=12.c5e10ae4.chunk.js.map