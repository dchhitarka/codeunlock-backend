import{r as d,j as e,x as c,L as r,n as o}from"./index-DcZMDsWX.js";import{t as h}from"./Reducers-FdYVeQEV.js";function u(s){const[n,t]=d.useReducer(h,{}),[a,l]=d.useState(s.location.state);return a===void 0&&window.location.replace("/admin/tags"),document.title=((a==null?void 0:a.tag)??window.location.pathname.split("/admin/tags/")[1])+" | Tags | Admin | CodeUnlock.in",e.jsx("div",{className:"tag-edit",children:e.jsxs("form",{onSubmit:i=>{i.preventDefault(),c(a.id,{tag:a.tag,description:a.description},t).then(x=>window.location.replace("/admin/tags"))},children:[e.jsx("div",{className:"form-header",children:e.jsx("div",{className:"form-heading",children:"TAG"})}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{className:"form-label",children:"Tag"}),e.jsx("input",{type:"text",value:a.tag,name:"tag",id:"tag",onChange:i=>l({...a,tag:i.target.value}),required:!0})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{className:"form-label",children:"Description"}),e.jsx("textarea",{type:"text",rows:"10",value:a.description,name:"description",id:"description",onChange:i=>l({...a,description:i.target.value})})]}),e.jsxs("div",{className:"all-posts",children:[e.jsx("label",{className:"form-label",children:"Posts"}),e.jsx(m,{posts:a.posts})]}),e.jsxs("div",{children:[e.jsx("button",{className:"form-button",children:"UPDATE"}),e.jsx(r,{to:"/admin/tags",children:e.jsx("button",{className:"form-button unactive-button",children:"BACK"})})]})]})})}const m=({posts:s})=>{const n=t=>{let a=[];return t&&t.map(l=>a.push(l.tag)),a.join(", ")};return(s==null?void 0:s.length)===0||s===void 0?e.jsx("div",{children:"No posts available"}):e.jsxs("table",{className:"table",style:{overflowX:"auto"},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"table-col-heading",children:"Id"}),e.jsx("th",{className:"table-col-heading",children:"Title"}),e.jsx("th",{className:"table-col-heading",children:"Status"}),e.jsx("th",{className:"table-col-heading",children:"Likes"}),e.jsx("th",{className:"table-col-heading",children:"Saves"}),e.jsx("th",{className:"table-col-heading",children:"Date"}),e.jsx("th",{className:"table-col-heading",children:"Edit"})]})}),e.jsx("tbody",{children:s==null?void 0:s.map((t,a)=>e.jsxs("tr",{className:"post-row",children:[e.jsx("td",{children:t.id}),e.jsx("td",{children:t.post_title}),e.jsx("td",{children:t.post_status?"Published":"Draft"}),e.jsx("td",{children:t.post_likes}),e.jsx("td",{children:t.post_bookmarks}),e.jsx("td",{children:o(t.created_at)}),e.jsx("td",{children:e.jsx(r,{to:{pathname:`/admin/posts/${t.post_slug}`,state:{...t,tags:n(t.tags)}},children:e.jsx("i",{className:"fas fa-edit"})})})]},a))})]})};export{u as default};
