{"version":3,"sources":["components/Api/Reducers.js","components/Utility/Popup.js","images/noimage.png","components/Posts/Post.js"],"names":["postReducer","state","action","type","ActionType","loading","posts","payload","msg","error","tagReducer","tags","userReducer","user","commentReducer","Popup","message","includes","split","className","onClick","e","target","parentNode","remove","PostEngage","post","useContext","UserContext","userState","useState","undefined","copied","setCopied","liked","setLiked","bookmarked","setBookmarked","useReducer","likes","post_likes","bookmarks","post_bookmarks","activity","dispatch","like","bookmark","status","setStatus","useEffect","post_engagements","length","parseInt","history","useHistory","isAuthenticated","document","querySelector","style","transform","transition","setTimeout","engagePost","id","then","res","push","title","paddingTop","url","window","location","href","el","createElement","setAttribute","getElementsByTagName","appendChild","select","setSelectionRange","execCommand","removeChild","classList","add","PostBody","colors","post_title","display","alignItems","formatDate","published_on","created_at","map","tag","index","to","tag_slug","onMouseOver","opacity","onMouseLeave","backgroundColor","onError","src","noimage","post_image","alt","children","post_body","components","code","node","inline","props","match","exec","String","replace","a11yDark","language","PreTag","PostComment","comments","comment","setComment","fetchComments","onSubmit","preventDefault","addComment","postId","value","rows","placeholder","onChange","required","padding","avatar","width","height","name","comment_body","Post","postSlug","useParams","pathname","str","toUpperCase","slice","join","fetchPost"],"mappings":"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","file":"static/js/12.c5e10ae4.chunk.js","sourcesContent":["import * as ActionType from './ActionTypes'\n\nexport const postReducer = (state, action) => {\n    switch(action.type){\n        case ActionType.LOADING:\n            return {loading: true}\n        case ActionType.FETCH_POSTS:\n            return {posts: action.payload, loading: false}\n        case ActionType.FETCH_POST:\n            return {...action.payload, loading: false}\n        case \"EDIT_POST\":\n            return {...action.payload, loading: false}\n        case ActionType.POST_ENGAGE:\n        case ActionType.DELETE_POST:\n            return {...action.payload, loading: false}\n        case ActionType.FAILED:\n            return {msg: action.payload, loading: false, error: true}\n        default:\n            return state\n    }\n}\n\nexport const tagReducer = (state, action) => {\n    switch(action.type){\n        case ActionType.LOADING:\n            return {...state, loading: true}\n        case ActionType.FETCH_TAGS:\n            return {tags: action.payload, loading: false}\n        case ActionType.DELETE_TAG:\n        case ActionType.FETCH_TAG:\n        case ActionType.TAG_ENGAGE:\n        case ActionType.FAILED:\n            // console.log(action.payload)\n            return {...action.payload, loading: false}\n        default:\n            return state\n    }\n}\n\nexport const userReducer = (state, action) => {\n    switch(action.type){\n        case ActionType.LOADING:\n            return {...state, loading: true}\n        case ActionType.FETCH_USERS:\n            return action.payload\n        case ActionType.FETCH_USER:\n            return {user: action.payload, loading: false}\n        case ActionType.DELETE_USER:\n        case ActionType.FAILED:\n            return {user: null, error: action.payload, loading: false}\n        case \"STOP_LOADING\":\n            return { ...state, loading: false }\n        default:\n            return state\n    }\n}\n\nexport const commentReducer = (state, action) => {\n    switch(action.type){\n        // case ActionType.LOADING:\n        //     return {...state, loading: true}\n        case ActionType.FETCH_COMMENTS:\n        case ActionType.DELETE_COMMENT:\n        case ActionType.ADD_COMMENT:\n        case ActionType.FAILED:\n            return action.payload\n        default:\n            return state\n    }\n}","import React from 'react';\nimport '../../css/Popup.css';\n\nexport default function Popup({message, type}){\n    if (message.includes('Successfully')) message = 'Post ' + message.split(' ')[1];\n    return (\n        <div className=\"inner\">\n            <div className=\"flash-messages\">\n                <div className={`flash flash--${type}`}>\n                    <p className=\"flash__text\">{message}</p>\n                    <button className=\"flash__remove\" onClick={e => e.target.parentNode.parentNode.remove()}>&times;</button>  \n                </div>\n            </div>\n        </div>          \n    )\n}","export default __webpack_public_path__ + \"static/media/noimage.3684e37c.png\";","import React, { useState, useReducer, useEffect, useContext } from 'react';\nimport {Link, useParams, useHistory} from 'react-router-dom';\nimport ReactMarkdown from 'react-markdown';\nimport {commentReducer, postReducer} from '../Api/Reducers';\nimport {fetchPost, fetchComments, addComment, engagePost} from '../Api/ActionCreators'; \nimport {formatDate} from '../Hooks';\nimport '../../css/Posts.css';\nimport '../../css/fontawesome/css/all.css';\nimport noimage from '../../images/noimage.png'\nimport Loading from '../Utility/Loading';\nimport Popup from '../Utility/Popup';\nimport { UserContext } from '../Context';\nimport { Prism as SyntaxHighlighter } from \"react-syntax-highlighter\";\nimport { a11yDark } from \"react-syntax-highlighter/dist/esm/styles/prism\";\n\nfunction PostEngage({post}){\n    const user = useContext(UserContext).userState;\n    const [copied, setCopied] = useState(undefined)\n    const [liked, setLiked] = useState(undefined)\n    const [bookmarked, setBookmarked] = useState(undefined)\n\n    const [activity, dispatch] = useReducer(postReducer, {\n        likes: post.post_likes || 0,\n        bookmarks: post.post_bookmarks || 0,\n    })\n\n    const [status, setStatus] = useState({like: 0, bookmark: 0})\n    \n    useEffect(() => {\n        if(post.post_engagements?.length > 0){\n            setStatus({\n                like: parseInt(post.post_engagements[0].like),\n                bookmark: parseInt(post.post_engagements[0].bookmark)\n            })\n        }\n    }, [post.post_engagements])\n\n    const history = useHistory();\n    return (\n        <>\n        <div className=\"popup\">\n            {liked && <Popup message={liked} type=\"success\"/>}\n            {bookmarked && <Popup message={bookmarked} type=\"success\"/>}\n            {copied && <Popup message={copied} type=\"success\" />}\n        </div>\n        <div className=\"post-engage\">\n            <div className=\"action like\">\n                <div className=\"post-like\"\n                    onClick={() => {\n                        if(user.isAuthenticated){\n                            document.querySelector(\".like-icon\").style.transform = \"scale(0.5, 0.5)\"\n                            document.querySelector(\".like-icon\").style.transition = \"0.1s\"\n                            setTimeout(() => {\n                                document.querySelector(\".like-icon\").style.transform = \"scale(1, 1)\"\n                            }, 100)\n                            engagePost(dispatch, post.id, user.id, \"like\").then(res => {\n                                status.like ? setStatus(status => ({...status, like: 0})) : setStatus(status => ({...status, like: 1}))  \n                                setLiked(res.message);\n                                setTimeout(() => setLiked(undefined), 2500);\n                            })\n                        }\n                        else{\n                            history.push(\"/u/login\");\n                        }\n                    }}\n                >\n                    <i className={status.like === 1 || status.like === true ? \"fas fa-thumbs-up like-icon\" : \"far fa-thumbs-up like-icon\"}><abbr title=\"Copy Link\"></abbr></i>                \n                </div>\n                <div className=\"stats\">{activity.likes}</div>\n            </div>\n            <div className=\"action bookmark\">\n                <div className=\"post-bookmark\"\n                    onClick={() => {\n                        if(user.isAuthenticated){\n                            document.querySelector(\".bookmark-icon\").style.transform = \"scale(0.5, 0.5)\"\n                            document.querySelector(\".bookmark-icon\").style.transition = \"0.1s\"\n                            setTimeout(() => {\n                                document.querySelector(\".bookmark-icon\").style.transform = \"scale(1, 1)\"\n                            }, 100)\n                            engagePost(dispatch, post.id, user.id, \"bookmark\").then(res => {\n                                status.bookmark ? setStatus(status => ({...status, bookmark: 0})) : setStatus(status => ({...status, bookmark: 1}))  \n                                setBookmarked(res.message);\n                                setTimeout(() => setBookmarked(undefined), 2500);\n                            })\n                        }\n                        else{\n                            history.push(\"/u/login\");\n                        }\n                    }}\n                >\n                    <i className={status.bookmark ? \"fas fa-bookmark bookmark-icon\" : \"far fa-bookmark bookmark-icon\"}></i>\n                </div>\n                <div className=\"book-stats\" style={{paddingTop: \"6px\"}}>{activity.bookmarks}</div>\n            </div>\n            <div className=\"action share\">\n                <div className=\"post-share\"\n                    onClick={(e) => {\n                        document.querySelector(\".share-icon\").style.transform = \"scale(0.5, 0.5)\"\n                        document.querySelector(\".share-icon\").style.transition = \"0.25s\"\n                        setTimeout(() => {\n                            document.querySelector(\".share-icon\").style.transform = \"scale(1, 1)\"\n                        }, 150)\n                        \n                        let url = window.location.href;\n                        let el = document.createElement(\"input\")\n                        el.setAttribute('type', 'text');\n                        el.setAttribute('value', url);\n                        el.setAttribute('id', \"url-copy\");\n                        document.getElementsByTagName('body')[0].appendChild(el)\n                        el.select();\n                        el.setSelectionRange(0, 99999); /*For mobile devices*/\n                        document.execCommand(\"copy\");\n                        document.getElementsByTagName('body')[0].removeChild(el);\n                        \n                        document.querySelector(\".share-icon\").classList.remove(\"far\")\n                        document.querySelector(\".share-icon\").classList.add(\"fas\")\n\n                        setTimeout(() => {\n                            document?.querySelector(\".share-icon\")?.classList?.add(\"far\")\n                            document?.querySelector(\".share-icon\")?.classList?.remove(\"fas\")\n                        }, 2500)\n                        setCopied(\"Link copied successfully!\");\n                        setTimeout(() => {setCopied(undefined)}, 2500)  \n                    }}\n                >\n                    <i className=\"far fa-copy share-icon\"></i>\n                </div>\n            </div>\n        </div>\n        </>\n    )\n}\n\nexport function PostBody({post}){\n    const colors = [\"red\", \"indigo\", \"blue\", \"green\", \"yellow\", \"orange\", \"violet\"];\n    return (\n        <section className=\"post\">\n            <h1 className=\"title\">{post.post_title}</h1>\n            <div className=\"metadata\">\n                <div className=\"post-date\" style={{display: \"flex\", alignItems: \"center\"}}>\n                    <span>Published On: {formatDate(post?.published_on ?? post?.created_at)}</span>\n                </div>    \n                <div className=\"post-tags\">\n                    {post.tags && post.tags.map((tag, index) => (\n                        <Link to={`/tags/${tag.tag_slug}`} key={index}>\n                            <span className=\"post-tag\" \n                                onMouseOver={e => e.target.style.opacity = \"0.8\"} \n                                onMouseLeave={e => e.target.style.opacity = \"1\"} \n                                style={{backgroundColor: colors[index]}} key={index}>{`#${tag.tag}`}\n                            </span>\n                        </Link>\n                    ))}\n                </div>\n\n            </div>\n            <img className=\"image\" onError={e => {e.target.src = noimage;e.target.style.display = \"none\"}} src={post.post_image ?? \"\"} alt=\"Post\" />\n            <div className=\"content\">\n                <ReactMarkdown \n                    children={post.post_body}\n                    components={{\n                        code({node, inline, className, children, ...props}) {\n                          const match = /language-(\\w+)/.exec(className || '')\n                          return !inline && match ? (\n                            <SyntaxHighlighter\n                              children={String(children).replace(/\\n$/, '')}\n                              style={a11yDark}\n                              language={match[1]}\n                              PreTag=\"div\"\n                              {...props}\n                            />\n                          ) : (\n                            <code className={className} {...props}>\n                              {children}\n                            </code>\n                          )\n                        }\n                    }} \n                />\n            </div>\n            <hr />\n        </section>\n    )\n}\n\nfunction PostComment({post}){\n    const user = useContext(UserContext).userState;\n    const [comments, dispatch] = useReducer(commentReducer, [])\n    const [comment, setComment] = useState(\"\")\n    const history = useHistory()\n    useEffect(()=>{\n        fetchComments(post.id, dispatch);\n    // eslint-disable-next-line\n    }, [])\n\n    return (\n        <section className=\"comments\">\n            <h1>Discussion</h1>\n            <span>You can use markdown in the comment box! :)</span>\n            <form className=\"new-comment\" \n                  onSubmit={e => {\n                        if(user.isAuthenticated){\n                            e.preventDefault()\n                            addComment({comment, postId: post.id}, dispatch)\n                            setComment(\"\")\n                        }\n                        else{\n                            history.push(\"/u/login\")\n                        }\n                      }\n                  } \n            >\n                <textarea className=\"comment-input\" value={comment} rows=\"5\" placeholder=\"Share your thoughts!\" \n                    onChange={e => setComment(e.target.value)} required />\n                <div className=\"comment-bottom\">\n                    <input type=\"submit\" value=\"SHARE\" className=\"comment-submit\"/>\n                </div>\n            </form>\n\n            <div className=\"all-comments\">\n                {comments.length > 0 && <h2 style={{padding: \"4px\"}}>{comments.length} Comments<hr /></h2>}\n                {comments.length > 0 && comments.map((comment, index) => (\n                    <div className=\"comment-box\" key={index}>\n                        <div className=\"comment-author\">\n                                <img src={comment.user.avatar} width=\"30\" height=\"30\" alt=\"User\" className=\"avatar\"/>\n                                <div className=\"author\">{comment.user.name}</div>\n                                <div className=\"comment-date\">{formatDate(comment.created_at)}</div>\n                        </div>\n                        <div style={{'margin':2, \"padding\": 5}}>\n                        <ReactMarkdown \n                            children={comment.comment_body}\n                            components={{\n                                code({node, inline, className, children, ...props}) {\n                                const match = /language-(\\w+)/.exec(className || '')\n                                return !inline && match ? (\n                                    <SyntaxHighlighter\n                                    children={String(children).replace(/\\n$/, '')}\n                                    style={a11yDark}\n                                    language={match[1]}\n                                    PreTag=\"div\"\n                                    {...props}\n                                    />\n                                ) : (\n                                    <code className={className} {...props}>\n                                    {children}\n                                    </code>\n                                )\n                                }\n                            }} \n                        />\n                        </div>\n                    </div>\n                    )\n                )}\n            </div>\n        </section>\n    )\n}\n\nfunction Post(){\n    const user = useContext(UserContext).userState; \n    let { postSlug } = useParams(); \n    const [post, dispatch] = useReducer(postReducer, {loading: true})\n    document.title = `${post?.post_title ?? window.location.pathname.split(\"/posts/\")[1].split('-').map(str => str[0].toUpperCase() + str.slice(1)).join(\" \")} | CodeUnlock.in`;\n    \n    useEffect(() => {\n        fetchPost(postSlug, dispatch, user.isAuthenticated)\n    // eslint-disable-next-line\n    }, [user.isAuthenticated])\n\n    return (\n        <>\n            {post.loading && <Loading />}\n            {!post.loading && (\n                <>\n                <PostEngage post={post}/>\n                <PostBody post={post}/>\n                <PostComment post={post}/>\n                </>\n            )}\n        </>\n    )\n}\n\nexport default Post;"],"sourceRoot":""}