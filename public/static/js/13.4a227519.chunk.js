(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[13],{48:function(e,t,s){},511:function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return u}));var a=s(5),c=s(15),n=s(0),i=(s(48),s(16)),l=s(18),o=s(53),r=s(56),d=s(2);function u(){var e,t=Object(n.useState)({post_title:"",post_body:"",post_image:void 0,post_status:0}),s=Object(c.a)(t,2),u=s[0],j=s[1],b=Object(n.useState)(void 0),m=Object(c.a)(b,2),p=m[0],h=m[1],f=Object(n.useState)(void 0),O=Object(c.a)(f,2),v=O[0],x=O[1];return document.title="Create New Post | Admin | CodeUnlock.in",Object(d.jsxs)("div",{className:"post-edit",children:[p&&Object(d.jsx)(o.a,{message:p,type:"success"}),v&&Object(d.jsx)(o.a,{message:v,type:"error"}),Object(d.jsxs)("form",{className:"post-form",onSubmit:function(e){e.preventDefault();var t=[];document.querySelectorAll(".post_tags").forEach((function(e){return t.push(e.value)})),Object(l.c)(Object(a.a)(Object(a.a)({},u),{},{tags:t})).then((function(e){var t,s;x(null!==(t=null===e||void 0===e?void 0:e.error)&&void 0!==t?t:void 0),h(null!==(s=null===e||void 0===e?void 0:e.message)&&void 0!==s?s:void 0)}))},children:[Object(d.jsxs)("div",{className:"form-header",style:{flexDirection:"row",justifyContent:"space-between"},children:[Object(d.jsx)("button",{className:"form-button",children:"CREATE"}),Object(d.jsx)("div",{className:"form-heading",children:"NEW POST"}),Object(d.jsx)(i.b,{to:"/admin/posts",children:Object(d.jsx)("button",{className:"form-button unactive-button",children:"BACK"})})]}),Object(d.jsxs)("div",{className:"admin-post-top",children:[Object(d.jsxs)("div",{className:"admin-post-top-left",children:[Object(d.jsxs)("div",{className:"form-input",children:[Object(d.jsx)("label",{className:"form-label",children:"Title"}),Object(d.jsx)("input",{type:"text",value:u.post_title,name:"post_title",id:"title",onChange:function(e){return j(Object(a.a)(Object(a.a)({},u),{},{post_title:e.target.value}))},placeholder:"Add New Title",required:!0})]}),Object(d.jsxs)("div",{className:"form-input",children:[Object(d.jsx)("label",{className:"form-label",children:"Status"}),Object(d.jsxs)("select",{name:"post_status",id:"post_status",onChange:function(e){return j(Object(a.a)(Object(a.a)({},u),{},{post_status:parseInt(e.target.value)}))},required:!0,children:[Object(d.jsx)("option",{value:"0",defaultValue:!!u.post_status,children:"Draft"}),Object(d.jsx)("option",{value:"1",defaultValue:!!u.post_status,children:"Published"})]})]}),Object(d.jsxs)("div",{className:"form-input",children:[Object(d.jsx)("label",{className:"form-label",children:"Image (Add Drive link where the image is stored)"}),Object(d.jsx)("input",{type:"text",value:null!==(e=u.post_image)&&void 0!==e?e:"https://drive.google.com/uc?export=view&id=",onChange:function(e){return j(Object(a.a)(Object(a.a)({},u),{},{post_image:e.target.value}))}})]})]}),Object(d.jsx)("div",{className:"admin-post-top-right",children:Object(d.jsx)("img",{src:u.post_image,onError:function(e){return e.target.src=r.a},id:"post_image",width:"200",height:"200",alt:"Post Cover"})})]}),Object(d.jsxs)("div",{className:"form-input",children:[Object(d.jsxs)("label",{className:"form-label",style:{display:"flex",justifyContent:"space-between"},children:[Object(d.jsx)("span",{children:"Body"}),Object(d.jsx)("div",{className:"words-count",style:{color:"grey",fontStyle:"italic",fontSize:"15px"},children:0===u.post_body.length?"0 words":"".concat(u.post_body.split(" ").length," words")})]}),Object(d.jsx)("textarea",{type:"text",rows:"50",value:u.post_body,name:"post_body",id:"post_body",onChange:function(e){return j(Object(a.a)(Object(a.a)({},u),{},{post_body:e.target.value}))},required:!0})]}),Object(d.jsxs)("div",{className:"form-input",children:[Object(d.jsx)("label",{className:"form-label",children:"Tags"}),Object(d.jsx)("div",{className:"tags-list",children:Object(d.jsx)("input",{type:"text",name:"tags",className:"post_tags",required:!0})}),Object(d.jsxs)("div",{className:"action-buttons",children:[Object(d.jsx)("button",{className:"form-button",onClick:function(e){e.preventDefault();var t=document.createElement("INPUT");t.className="post_tags",t.required=!0,document.querySelector(".tags-list").appendChild(t)},children:"ADD"}),Object(d.jsx)("button",{className:"form-button unactive-button",onClick:function(e){e.preventDefault();var t=document.querySelector(".tags-list");t.childElementCount>1?t.removeChild(t.lastElementChild):alert("One tag is required")},children:"REMOVE"})]})]})]})]})}},53:function(e,t,s){"use strict";s.d(t,"a",(function(){return c}));s(0),s(55);var a=s(2);function c(e){var t=e.message,s=e.type;return t.includes("Successfully")&&(t="Post "+t.split(" ")[1]),Object(a.jsx)("div",{className:"inner",children:Object(a.jsx)("div",{className:"flash-messages",children:Object(a.jsxs)("div",{className:"flash flash--".concat(s),children:[Object(a.jsx)("p",{className:"flash__text",children:t}),Object(a.jsx)("button",{className:"flash__remove",onClick:function(e){return e.target.parentNode.parentNode.remove()},children:"\xd7"})]})})})}},55:function(e,t,s){},56:function(e,t,s){"use strict";t.a=s.p+"static/media/noimage.3684e37c.png"}}]);
//# sourceMappingURL=13.4a227519.chunk.js.map