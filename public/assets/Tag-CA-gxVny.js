import{r as o,U as m,u,g,m as f,j as s,c as p,k as h}from"./index-DcZMDsWX.js";/* empty css             */import{t as x}from"./Reducers-FdYVeQEV.js";import{P as w}from"./PostCard-C1mg2RmO.js";import"./react-markdown-Bh_9KXKW.js";/* empty css              */import"./noimage-y3vxIS37.js";import"./Popup-bydbHcy1.js";function P(){const i=o.useContext(m).user,[t,c]=o.useReducer(x,{loading:!0,engagements:[]});document.title="#"+window.location.pathname.split("/tags/")[1]+" | Tags | CodeUnlock.in";const d=u(),{slug:r}=g();o.useEffect(()=>{f(c,r)},[r]);const[a,n]=o.useState(()=>({follows:!1,followers:0,message:""}));return o.useEffect(()=>{let e=t.engagements.find(l=>l.user_id===i.id);n({follows:!!e,followers:t.followers,message:""})},[t]),s.jsx("div",{className:"tag-view",children:t.loading?s.jsx(p,{}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"tag-header",children:[s.jsxs("div",{className:"tag-name",children:["#",t.tag]}),s.jsx("button",{onClick:()=>{i.isAuthenticated?h(t.id,i.id).then(e=>{a.follows,n(e)}):d.push("/login")},className:a.follows?"form-button active-button follow-tag":"form-button unactive-button follow-tag",children:a.follows?"FOLLOWING":"FOLLOW"})]}),s.jsxs("div",{className:"tag-body",children:[s.jsx("div",{className:"tag-desc",children:t.description!=null?t.description:s.jsx("span",{className:"no-desc",children:"No description available!"})}),s.jsxs("div",{className:"post_count",children:[t.post_count," Posts | ",a.followers||0," Followers"]})]}),s.jsxs("div",{className:"tag-posts",children:[s.jsx("div",{className:"tag-posts-head",children:"POSTS"}),t.posts.length>0&&t.posts.map((e,l)=>s.jsx(w,{post:e,index:l},l)),t.posts.length===0&&s.jsx("div",{style:{fontStyle:"italic"},children:"No post available!"})]})]})})}export{P as default};
