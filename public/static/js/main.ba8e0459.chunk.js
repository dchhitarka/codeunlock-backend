(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[7],{14:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),a=n.n(r).a.createContext({user:{},setUser:function(){}})},18:function(e,t,n){"use strict";n.d(t,"x",(function(){return v})),n.d(t,"z",(function(){return j})),n.d(t,"y",(function(){return O})),n.d(t,"A",(function(){return x})),n.d(t,"t",(function(){return m})),n.d(t,"r",(function(){return y})),n.d(t,"s",(function(){return g})),n.d(t,"u",(function(){return w})),n.d(t,"p",(function(){return S})),n.d(t,"o",(function(){return k})),n.d(t,"g",(function(){return E})),n.d(t,"k",(function(){return A})),n.d(t,"l",(function(){return T})),n.d(t,"j",(function(){return _})),n.d(t,"h",(function(){return U})),n.d(t,"i",(function(){return L})),n.d(t,"a",(function(){return N})),n.d(t,"d",(function(){return R})),n.d(t,"n",(function(){return P})),n.d(t,"m",(function(){return I})),n.d(t,"q",(function(){return B})),n.d(t,"c",(function(){return z})),n.d(t,"v",(function(){return D})),n.d(t,"e",(function(){return C})),n.d(t,"w",(function(){return H})),n.d(t,"f",(function(){return J})),n.d(t,"b",(function(){return G}));var r,a,c,o,s,u,i=n(5),l=n(1),p=n.n(l),d=n(3),f=n(4),h=n(8),b={BASE_URL:"https://codeunlock.in/api/v1/",AUTH_TOKEN:null!==(r=null!==(a=null!==(c=localStorage.getItem("AUTH_TOKEN"))&&void 0!==c?c:sessionStorage.getItem("AUTH_TOKEN"))&&void 0!==a?a:null===h.a||void 0===h.a?void 0:h.a.token)&&void 0!==r?r:"",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:null!==(o=null!==(s=null!==(u="Bearer "+localStorage.getItem("AUTH_TOKEN"))&&void 0!==u?u:sessionStorage.getItem("AUTH_TOKEN"))&&void 0!==s?s:null===h.a||void 0===h.a?void 0:h.a.token)&&void 0!==o?o:"",Accept:"application/json"}},v=function(){var e=Object(d.a)(p.a.mark((function e(t,n){var r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"auth/login",n({type:f.n}),e.prev=2,e.next=5,fetch(b.BASE_URL+"auth/login",{method:"POST",body:JSON.stringify(t),headers:b.headers});case 5:return r=e.sent,e.next=8,r.json();case 8:a=e.sent,n({type:f.l,payload:a}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n({type:f.f,payload:e.t0.error});case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,n){return e.apply(this,arguments)}}(),j=function(){var e=Object(d.a)(p.a.mark((function e(t,n){var r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"auth/register",n({type:f.n}),e.prev=2,e.next=5,fetch(b.BASE_URL+"auth/register",{method:"POST",body:JSON.stringify(t),headers:b.headers});case 5:return r=e.sent,e.next=8,r.json();case 8:return a=e.sent,n({type:"STOP_LOADING"}),e.abrupt("return",a);case 13:return e.prev=13,e.t0=e.catch(2),window.location.replace("/register"),e.abrupt("return",e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"auth/logout",e.prev=1,e.next=4,fetch(b.BASE_URL+"auth/logout",{headers:b.headers});case 4:return t=e.sent,e.next=7,t.json();case 7:return e.abrupt("return",{logout:!0});case 10:e.prev=10,e.t0=e.catch(1);case 12:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(d.a)(p.a.mark((function e(t,n){var r,a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="auth/verify/".concat(t,"/").concat(n),e.prev=1,e.next=4,fetch(b.BASE_URL+r,{headers:b.headers});case 4:return a=e.sent,e.next=7,a.json();case 7:return c=e.sent,e.abrupt("return",Object(i.a)(Object(i.a)({},c),{},{status:!0}));case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",{error:e.t0.error,status:!1});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=Object(d.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"auth/verify/mail",e.prev=1,e.next=4,fetch(b.BASE_URL+"auth/verify/mail",{method:"POST",body:JSON.stringify({email:t}),headers:b.headers});case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",Object(i.a)(Object(i.a)({},r),{},{status:!0}));case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",{error:e.t0.error,status:!1});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(d.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"auth/forgot",e.next=4,fetch(b.BASE_URL+"auth/forgot",{method:"POST",body:JSON.stringify({email:t}),headers:b.headers});case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 11:if(e.prev=11,e.t0=e.catch(0),"NetworkError when attempting to fetch resource."!==e.t0.message){e.next=15;break}return e.abrupt("return",{error:"Unable to send mail at the moment! Please try again!"});case 15:return e.abrupt("return",{error:e.t0.message});case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(d.a)(p.a.mark((function e(t){var n,r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="auth/reset/".concat(t),e.next=4,fetch(b.BASE_URL+n,{headers:b.headers});case 4:return r=e.sent,e.next=7,r.json();case 7:if(a=e.sent,410!==r.status){e.next=10;break}return e.abrupt("return",Object(i.a)(Object(i.a)({},a),{},{status:410}));case 10:return e.abrupt("return",a);case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{error:e.t0.error});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(d.a)(p.a.mark((function e(t,n){var r,a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="auth/update/".concat(t),e.next=4,fetch(b.BASE_URL+r,{method:"POST",body:JSON.stringify({password:n}),headers:b.headers});case 4:return a=e.sent,e.next=7,a.json();case 7:return c=e.sent,e.abrupt("return",c);case 11:if(e.prev=11,e.t0=e.catch(0),410!==e.t0.status){e.next=15;break}return e.abrupt("return",{error:e.t0.error});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}(),S=function(){var e=Object(d.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"auth/users",e.prev=1,e.next=4,fetch(b.BASE_URL+"auth/users",{headers:b.headers});case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,t({type:f.m,payload:r}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t({type:f.f,payload:e.t0});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(d.a)(p.a.mark((function e(t){var n,r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="auth/user/".concat(t),e.prev=1,e.next=4,fetch(b.BASE_URL+n,{headers:b.headers});case 4:return r=e.sent,e.next=7,r.json();case 7:return a=e.sent,e.abrupt("return",a);case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(d.a)(p.a.mark((function e(t,n){var r,a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="auth/user/".concat(t),e.prev=1,e.next=4,fetch(b.BASE_URL+r,{method:"DELETE",headers:b.headers});case 4:return a=e.sent,e.next=7,a.json();case 7:c=e.sent,n({type:f.e,payload:c}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n({type:f.f,payload:e.t0});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}(),A=function(){var e=Object(d.a)(p.a.mark((function e(t){var n,r,a,c,o,s=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=s.length>1&&void 0!==s[1]?s[1]:null,r=s.length>2&&void 0!==s[2]?s[2]:void 0,s.length>3&&void 0!==s[3]?s[3]:void 0,t({type:f.n}),e.prev=4,e.t0=r,e.next="bookmarks"===e.t0?8:"likes"===e.t0?10:"admin"===e.t0?12:14;break;case 8:return a="posts/".concat(n,"/bookmarks"),e.abrupt("break",16);case 10:return a="posts/".concat(n,"/likes"),e.abrupt("break",16);case 12:return a="admin/posts",e.abrupt("break",16);case 14:return a="posts",e.abrupt("break",16);case 16:return e.next=18,fetch(b.BASE_URL+a,{headers:b.headers});case 18:return c=e.sent,e.next=21,c.json();case 21:o=e.sent,t({type:f.i,payload:o}),e.next=28;break;case 25:e.prev=25,e.t1=e.catch(4),t({type:f.f,payload:e.t1});case 28:case"end":return e.stop()}}),e,null,[[4,25]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(d.a)(p.a.mark((function e(t){var n,r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="search?q=".concat(t),e.next=4,fetch(b.BASE_URL+n,{headers:b.headers});case 4:return r=e.sent,e.next=7,r.json();case 7:return a=e.sent,e.abrupt("return",a);case 11:e.prev=11,e.t0=e.catch(0);case 13:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(d.a)(p.a.mark((function e(t,n,r){var a,c,o,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:f.n}),c=r?"posts/".concat(t,"/authenticated"):"posts/".concat(t),r&&(b.headers.Authorization=null!==(a="Bearer "+localStorage.getItem("AUTH_TOKEN"))&&void 0!==a?a:sessionStorage.getItem("AUTH_TOKEN")),e.prev=3,e.next=6,fetch(b.BASE_URL+c,{headers:b.headers});case 6:return o=e.sent,e.next=9,o.json();case 9:return s=e.sent,n({type:f.h,payload:s}),e.abrupt("return",Object(i.a)(Object(i.a)({},s),{},{loading:!1}));case 14:e.prev=14,e.t0=e.catch(3),console.log(e.t0),window.location.replace("/");case 18:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t,n,r){return e.apply(this,arguments)}}(),U=function(){var e=Object(d.a)(p.a.mark((function e(t,n,r,a){var c,o,s,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="posts/".concat(n,"/").concat(r,"/").concat(a),o={postId:n,userId:r},e.prev=2,e.next=5,fetch(b.BASE_URL+c,{headers:b.headers,method:"PUT",body:JSON.stringify(o)});case 5:return s=e.sent,e.next=8,s.json();case 8:return u=e.sent,t({type:f.o,payload:u}),e.abrupt("return",u);case 13:e.prev=13,e.t0=e.catch(2),t({type:f.f,payload:e.t0});case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),L=function(){var e=Object(d.a)(p.a.mark((function e(t,n){var r,a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="posts/".concat(t,"/comments"),e.prev=1,e.next=4,fetch(b.BASE_URL+r,{headers:b.headers});case 4:return a=e.sent,e.next=7,a.json();case 7:c=e.sent,n({type:f.g,payload:c}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n({type:f.f,payload:e.t0});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}(),N=function(){var e=Object(d.a)(p.a.mark((function e(t,n){var r,a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="posts/".concat(t.postId,"/comments"),e.prev=1,e.next=4,fetch(b.BASE_URL+r,{method:"POST",body:JSON.stringify(t),headers:b.headers});case 4:return a=e.sent,e.next=7,a.json();case 7:c=e.sent,n({type:f.a,payload:c}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n({type:f.f,payload:e.t0});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}(),R=function(){var e=Object(d.a)(p.a.mark((function e(t,n,r){var a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="posts/".concat(t,"/comment/").concat(n),e.prev=1,e.next=4,fetch(b.BASE_URL+a,{method:"DELETE",headers:b.headers});case 4:c={message:"DELETED"},r({type:f.b,payload:c}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r({type:f.f,payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n,r){return e.apply(this,arguments)}}(),P=function(){var e=Object(d.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:f.n}),"tags",e.prev=2,e.next=5,fetch(b.BASE_URL+"tags",{headers:b.headers});case 5:return n=e.sent,e.next=8,n.json();case 8:r=e.sent,t({type:f.k,payload:r}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),window.location.replace("/"),t({type:f.f,payload:e.t0});case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(d.a)(p.a.mark((function e(t,n){var r,a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:f.n}),r="tags/".concat(n),e.prev=2,e.next=5,fetch(b.BASE_URL+r,{headers:b.headers});case 5:return a=e.sent,e.next=8,a.json();case 8:c=e.sent,t({type:f.j,payload:c}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),window.location.replace("/tags");case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,n){return e.apply(this,arguments)}}(),B=function(){var e=Object(d.a)(p.a.mark((function e(t,n){var r,a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="tags/".concat(t,"/").concat(n,"/follow"),e.prev=1,e.next=4,fetch(b.BASE_URL+r,{method:"PUT",headers:b.headers});case 4:return a=e.sent,e.next=7,a.json();case 7:return c=e.sent,e.abrupt("return",c);case 11:e.prev=11,e.t0=e.catch(1);case 13:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}(),z=function(){var e=Object(d.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"posts",e.prev=1,e.next=4,fetch(b.BASE_URL+"posts",{method:"POST",body:JSON.stringify(t),headers:b.headers});case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",{error:e.t0});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(d.a)(p.a.mark((function e(t,n,r){var a,c,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:"LOADING"}),a="posts/".concat(t,"/update"),e.prev=2,e.next=5,fetch(b.BASE_URL+a,{method:"PUT",body:JSON.stringify(n),headers:b.headers});case 5:return c=e.sent,e.next=8,c.json();case 8:o=e.sent,r({type:"EDIT_POST",payload:o}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r({type:f.f,payload:e.t0});case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,n,r){return e.apply(this,arguments)}}(),C=function(){var e=Object(d.a)(p.a.mark((function e(t,n){var r,a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="posts/".concat(t),e.prev=1,e.next=4,fetch(b.BASE_URL+r,{method:"DELETE",headers:b.headers});case 4:return a=e.sent,e.next=7,a.json();case 7:c=e.sent,n({type:f.c,payload:c}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),window.location.reload();case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}(),H=function(){var e=Object(d.a)(p.a.mark((function e(t,n,r){var a,c,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="tags/".concat(t),e.prev=1,e.next=4,fetch(b.BASE_URL+a,{method:"PUT",body:JSON.stringify(n),headers:b.headers});case 4:return c=e.sent,e.next=7,c.json();case 7:o=e.sent,r({type:f.j,payload:o}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),window.location.reload();case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n,r){return e.apply(this,arguments)}}(),J=function(){var e=Object(d.a)(p.a.mark((function e(t,n){var r,a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="tags/".concat(n),e.prev=1,e.next=4,fetch(b.BASE_URL+r,{method:"DELETE",headers:b.headers});case 4:return a=e.sent,e.next=7,a.json();case 7:c=e.sent,t({type:f.d,payload:c}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t({type:f.d,payload:new Error("Unable to Delete the tag. Please try again!")});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}(),G=function(){var e=Object(d.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"admin/dashboard",e.prev=1,e.next=4,fetch(b.BASE_URL+"admin/dashboard",{method:"GET",headers:b.headers});case 4:return t=e.sent,e.next=7,t.json();case 7:return n=e.sent,e.abrupt("return",n);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",new Error("Unable to Delete the tag. Please try again!"));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}()},19:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(0),n(38);var r=n(2);function a(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"loader-overflow"}),Object(r.jsxs)("div",{className:"lds-ripple",children:[Object(r.jsx)("div",{}),Object(r.jsx)("div",{})]})]})}},25:function(e,t,n){},38:function(e,t,n){},4:function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"n",(function(){return a})),n.d(t,"g",(function(){return c})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"k",(function(){return u})),n.d(t,"j",(function(){return i})),n.d(t,"p",(function(){return l})),n.d(t,"d",(function(){return p})),n.d(t,"i",(function(){return d})),n.d(t,"h",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"o",(function(){return b})),n.d(t,"m",(function(){return v})),n.d(t,"l",(function(){return j})),n.d(t,"e",(function(){return O}));var r="FAILED",a="LOADING",c="FETCH_COMMENTS",o="ADD_COMMENT",s="DELETE_COMMENT",u="FETCH_TAGS",i="FETCH_TAG",l="TAG_ENGAGE",p="DELETE_TAG",d="FETCH_POSTS",f="FETCH_POST",h="DELETE_POST ",b="POST_ENGAGE",v="FETCH_USERS",j="FETCH_USER",O="DELETE_USER"},45:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(26),c=n.n(a),o=(n(25),n(16)),s=n(1),u=n.n(s),i=n(5),l=n(3),p=n(15),d=n(6),f=n(14),h=n(24),b=n(8),v=n(19),j=n(17),O=n(2),x=function(e){var t=e.component,n=Object(j.a)(e,["component"]),a=Object(r.useContext)(f.a).userState;return Object(O.jsx)(d.b,Object(i.a)(Object(i.a)({},n),{},{render:function(e){return 1===(null===a||void 0===a?void 0:a.isAdmin)?Object(O.jsx)(t,Object(i.a)({},e)):Object(O.jsx)(d.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},m=function(e){var t=e.component,n=Object(j.a)(e,["component"]),a=Object(r.useContext)(f.a).userState;return Object(O.jsx)(d.b,Object(i.a)(Object(i.a)({},n),{},{render:function(e){return!1===a.isAuthenticated||void 0===a.isAuthenticated?Object(O.jsx)(t,Object(i.a)({},e)):Object(O.jsx)(d.a,{to:{pathname:"/"}})}}))},y=function(e){var t=e.component,n=Object(j.a)(e,["component"]),a=Object(r.useContext)(f.a).userState;return Object(O.jsx)(d.b,Object(i.a)(Object(i.a)({},n),{},{render:function(e){return!0===a.isAuthenticated?Object(O.jsx)(t,Object(i.a)({},e)):Object(O.jsx)(d.a,{to:{pathname:"/"}})}}))},g=Object(r.lazy)((function(){return n.e(21).then(n.bind(null,509))})),w=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(17)]).then(n.bind(null,510))})),S=Object(r.lazy)((function(){return n.e(13).then(n.bind(null,511))})),k=Object(r.lazy)((function(){return Promise.all([n.e(1),n.e(3),n.e(0),n.e(4)]).then(n.bind(null,512))})),E=Object(r.lazy)((function(){return Promise.all([n.e(1),n.e(3),n.e(0),n.e(4)]).then(n.bind(null,512)).then((function(e){return{default:e.Preview}}))})),A=Object(r.lazy)((function(){return n.e(15).then(n.bind(null,514))})),T=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(18)]).then(n.bind(null,515))})),_=Object(r.lazy)((function(){return n.e(16).then(n.bind(null,516))})),U=Object(r.lazy)((function(){return Promise.all([n.e(1),n.e(3),n.e(0),n.e(12)]).then(n.bind(null,99))})),L=Object(r.lazy)((function(){return Promise.all([n.e(1),n.e(0),n.e(2)]).then(n.bind(null,508))})),N=Object(r.lazy)((function(){return Promise.all([n.e(1),n.e(0),n.e(2)]).then(n.bind(null,508)).then((function(e){return{default:e.BookmarkedPost}}))})),R=Object(r.lazy)((function(){return Promise.all([n.e(1),n.e(0),n.e(2)]).then(n.bind(null,508)).then((function(e){return{default:e.LikedPost}}))})),P=Object(r.lazy)((function(){return n.e(11).then(n.bind(null,528))})),I=Object(r.lazy)((function(){return Promise.all([n.e(1),n.e(0),n.e(10)]).then(n.bind(null,517))})),B=Object(r.lazy)((function(){return Promise.all([n.e(1),n.e(0),n.e(2),n.e(23)]).then(n.bind(null,518))})),z=Object(r.lazy)((function(){return n.e(22).then(n.bind(null,519))})),D=Object(r.lazy)((function(){return n.e(25).then(n.bind(null,520))})),C=Object(r.lazy)((function(){return n.e(26).then(n.bind(null,521))})),H=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(14)]).then(n.bind(null,529))})),J=Object(r.lazy)((function(){return n.e(24).then(n.bind(null,522))})),G=Object(r.lazy)((function(){return n.e(19).then(n.bind(null,523))})),K=Object(r.lazy)((function(){return n.e(20).then(n.bind(null,524))})),F=Object(r.lazy)((function(){return n.e(5).then(n.bind(null,525)).then((function(e){return{default:e.ForgotPassword}}))})),W=Object(r.lazy)((function(){return n.e(5).then(n.bind(null,525)).then((function(e){return{default:e.ResetPassword}}))})),M=Object(r.lazy)((function(){return n.e(6).then(n.bind(null,526)).then((function(e){return{default:e.Verify}}))})),V=Object(r.lazy)((function(){return n.e(6).then(n.bind(null,526)).then((function(e){return{default:e.Verified}}))}));function q(){var e=Object(d.g)(),t=Object(r.useState)(!1),n=Object(p.a)(t,2),a=n[0],c=n[1];Object(r.useEffect)((function(){h.a.initialize("UA-179116638-1",{debug:!1}),c(!0)}),[]),Object(r.useEffect)((function(){a&&e.listen((function(e,t){h.a.pageview(e.pathname+e.search)}))}),[a,e])}var $=Object(d.i)((function(e){window.scroll({top:0,behavior:"smooth"});var t=Object(r.useState)(!0),n=Object(p.a)(t,2),a=n[0],c=n[1],o=Object(r.useState)({}),s=Object(p.a)(o,2),h=s[0],j=s[1];Object(r.useMemo)((function(){(function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.authenticate();case 2:j(Object(i.a)(Object(i.a)({},b.a.details),{},{isAuthenticated:b.a.isAuthenticated,login:b.a.login,logout:b.a.logout,register:b.a.register})),c(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var $={userState:h,setUserState:j};return q(),a?Object(O.jsx)(v.a,{}):Object(O.jsx)(f.a.Provider,{value:$,children:Object(O.jsxs)(r.Suspense,{fallback:Object(O.jsx)(v.a,{}),children:[Object(O.jsx)(H,{}),Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)(d.d,{location:e.location,children:[Object(O.jsx)(d.b,{exact:!0,path:"/posts",component:L}),Object(O.jsx)(d.b,{exact:!0,path:"/u/bookmarks",component:N}),Object(O.jsx)(d.b,{exact:!0,path:"/u/likes",component:R}),Object(O.jsx)(d.b,{exact:!0,path:"/posts/:postSlug",component:U}),Object(O.jsx)(d.b,{exact:!0,path:"/tags",component:P}),Object(O.jsx)(d.b,{exact:!0,path:"/tags/:slug",component:I}),Object(O.jsx)(d.b,{exact:!0,path:"/about",component:D}),Object(O.jsx)(d.b,{exact:!0,path:"/contact",component:C}),Object(O.jsx)(y,{exact:!0,path:"/u/dashboard",component:z}),Object(O.jsx)(m,{exact:!0,path:"/u/login",component:G}),Object(O.jsx)(m,{exact:!0,path:"/u/register",component:K}),Object(O.jsx)(m,{exact:!0,path:"/u/verify",component:function(t){return Object(O.jsx)(M,{props:e.location.state})}}),Object(O.jsx)(m,{exact:!0,path:"/u/verify/:hash/:email_hash",component:V}),Object(O.jsx)(m,{exact:!0,path:"/u/forgot",component:F}),Object(O.jsx)(m,{exact:!0,path:"/u/reset/:hash",component:W}),Object(O.jsx)(x,{path:"/admin/post/create",component:S}),Object(O.jsx)(x,{path:"/admin/posts/:post",component:k}),Object(O.jsx)(x,{path:"/admin/post/preview",component:function(e){return Object(O.jsx)(E,{post:e.location.state})}}),Object(O.jsx)(x,{path:"/admin/tags/:tag",component:T}),Object(O.jsx)(x,{path:"/admin/tags",component:A}),Object(O.jsx)(x,{path:"/admin/users",component:_}),Object(O.jsx)(x,{path:"/admin/posts",component:w}),Object(O.jsx)(x,{path:"/admin",component:g}),Object(O.jsx)(d.b,{exact:!0,path:"/",component:B}),Object(O.jsx)(d.a,{to:"/",component:B})]})}),Object(O.jsx)("div",{style:{zIndex:"120",position:"fixed",bottom:"10px",right:"5px",backgroundColor:"var(--secondary)",color:"white",padding:"8px",fontSize:"20px",borderRadius:"4px",cursor:"pointer"},onClick:function(){window.scroll({top:0,behavior:"smooth"})},children:Object(O.jsx)("i",{className:"fas fa-chevron-up"})}),Object(O.jsx)(J,{})]})})}));var Q=function(){return Object(O.jsx)(o.a,{children:Object(O.jsx)($,{})})},X=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Y(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(Object(O.jsx)(Q,{}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");X?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Y(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Y(t,e)}))}}()},8:function(e,t,n){"use strict";var r=n(1),a=n.n(r),c=n(3),o=n(27),s=n(28),u=n(18),i=function(){function e(){var t,n,r,a;Object(o.a)(this,e),this.details=null,this.isAuthenticated=!1,window.addEventListener?window.addEventListener("storage",this.sessionStorage_transfer,!1):window.attachEvent("onstorage",this.sessionStorage_transfer),sessionStorage.length||(localStorage.setItem("getSessionStorage","foobar"),localStorage.removeItem("getSessionStorage","foobar")),this.token=null!==(t=null!==(n=sessionStorage.getItem("AUTH_TOKEN"))&&void 0!==n?n:localStorage.getItem("AUTH_TOKEN"))&&void 0!==t?t:null,this.id=null!==(r=null!==(a=sessionStorage.getItem("USER_ID"))&&void 0!==a?a:localStorage.getItem("USER_ID"))&&void 0!==r?r:null}return Object(s.a)(e,[{key:"authenticate",value:function(){var e=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.token||null==this.id){e.next=9;break}if(this.details=null!==(t=JSON.parse(sessionStorage.getItem("details")))&&void 0!==t?t:null,this.details){e.next=8;break}return e.next=5,Object(u.o)(this.id);case 5:this.details=e.sent,sessionStorage.setItem("details",JSON.stringify(this.details)),this.isAuthenticated=!0;case 8:this.isAuthenticated=!0;case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!0===n?(localStorage.setItem("AUTH_TOKEN",t.access_token),localStorage.setItem("USER_ID",t.id)):(sessionStorage.setItem("AUTH_TOKEN",t.access_token),sessionStorage.setItem("USER_ID",t.id)),sessionStorage.setItem("details",JSON.stringify(t)),this.details=t,this.id=t.id,this.token=t.access_token,this.isAuthenticated=!0;case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.y)();case 2:sessionStorage.clear(),localStorage.clear(),this.details=null,this.token=null,this.id=null,this.isAuthenticated=!1;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"register",value:function(){console.log("Register")}},{key:"sessionStorage_transfer",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t||(t=window.event),t.newValue){e.next=3;break}return e.abrupt("return");case 3:if("getSessionStorage"===t.key)localStorage.setItem("sessionStorage",JSON.stringify(sessionStorage)),localStorage.removeItem("sessionStorage");else if("sessionStorage"===t.key&&!sessionStorage.length)for(r in n=JSON.parse(t.newValue))sessionStorage.setItem(r,n[r]);this.isAuthenticated=!0;case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();i.user=new i,t.a=i.user}},[[45,8,9]]]);
//# sourceMappingURL=main.ba8e0459.chunk.js.map