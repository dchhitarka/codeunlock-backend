(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[19],{46:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return s})),a.d(t,"a",(function(){return l}));var r=a(5),n=a(4),c=function(e,t){switch(t.type){case n.n:return{loading:!0};case n.i:return{posts:t.payload,loading:!1};case n.h:case"EDIT_POST":return Object(r.a)(Object(r.a)({},t.payload),{},{loading:!1});case n.o:case n.c:return Object(r.a)(Object(r.a)({},t.payload),{},{loading:!1});case n.f:return{msg:t.payload,loading:!1,error:!0};default:return e}},o=function(e,t){switch(t.type){case n.n:return Object(r.a)(Object(r.a)({},e),{},{loading:!0});case n.k:return{tags:t.payload,loading:!1};case n.d:case n.j:case n.p:case n.f:return Object(r.a)(Object(r.a)({},t.payload),{},{loading:!1});default:return e}},s=function(e,t){switch(t.type){case n.n:return Object(r.a)(Object(r.a)({},e),{},{loading:!0});case n.m:return t.payload;case n.l:return{user:t.payload,loading:!1};case n.e:case n.f:return{user:null,error:t.payload,loading:!1};case"STOP_LOADING":return Object(r.a)(Object(r.a)({},e),{},{loading:!1});default:return e}},l=function(e,t){switch(t.type){case n.g:case n.b:case n.a:case n.f:return t.payload;default:return e}}},48:function(e,t,a){},523:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return j}));var r=a(5),n=a(15),c=a(0),o=(a(48),a(6)),s=a(16),l=a(19),i=a(46),u=a(18),d=a(14),b=a(2);function j(e){var t,a,j,m,O=Object(c.useContext)(d.a),f=O.userState,v=Object(c.useReducer)(i.d,{loading:!1}),g=Object(n.a)(v,2),h=g[0],p=g[1],x=Object(c.useState)(""),y=Object(n.a)(x,2),N=y[0],w=y[1],S=Object(c.useState)(""),k=Object(n.a)(S,2),E=k[0],A=k[1],I=Object(c.useState)(!0),T=Object(n.a)(I,2),P=T[0],C=T[1],G=Object(c.useState)((null===e||void 0===e||null===(t=e.location)||void 0===t||null===(a=t.state)||void 0===a?void 0:a.err)||""),R=Object(n.a)(G,2),_=R[0],D=R[1],L=Object(c.useState)((function(){return e.location.state&&e.location.state.msg||""})),q=Object(n.a)(L,2),J=q[0],U=q[1],F=Object(o.g)();Object(c.useEffect)((function(){var e,t,a,n,c,o,s;null!=(null===h||void 0===h||null===(e=h.user)||void 0===e?void 0:e.id)?f.login(h.user,P).then((function(){O.setUserState(Object(r.a)(Object(r.a)({},h.user),{},{isAuthenticated:f.isAuthenticated,login:f.login,logout:f.logout,register:f.register})),localStorage.setItem("AUTH_TOKEN",h.user.access_token),F.go(-1)})):(D("".concat(null!==(t=null!==(a=null===h||void 0===h||null===(n=h.error)||void 0===n?void 0:n.error)&&void 0!==a?a:null===h||void 0===h||null===(c=h.user)||void 0===c?void 0:c.error)&&void 0!==t?t:"")),"Account not verified"!==(null===h||void 0===h||null===(o=h.error)||void 0===o?void 0:o.error)&&"Account not verified"!==(null===h||void 0===h||null===(s=h.user)||void 0===s?void 0:s.error)||F.push({pathname:"/u/verify",state:{msg:"Verify your account",sendmail:!0}}))}),[h]);return Object(b.jsx)("div",{className:"login",children:h.loading?Object(b.jsx)(l.a,{}):Object(b.jsxs)("form",{className:"login-form",onSubmit:function(e){e.preventDefault(),U(null),""===N||""===E?D("Email or Password can't be empty"):(D(null),Object(u.x)({email:N,password:E,remember:P},p))},children:[Object(b.jsxs)("div",{className:"form-header",children:[Object(b.jsx)("div",{className:"form-heading",children:"LOGIN"}),Object(b.jsx)("div",{className:"form-error",children:(null===e||void 0===e||null===(j=e.location)||void 0===j||null===(m=j.state)||void 0===m?void 0:m.err)||_}),Object(b.jsx)("div",{className:"form-error",style:{color:"green"},children:J})]}),Object(b.jsxs)("div",{className:"form-input",children:[Object(b.jsx)("label",{className:"form-label",children:"Email"}),Object(b.jsx)("input",{type:"email",value:N,name:"email",id:"email",placeholder:"user@account.com",onChange:function(e){return w(e.target.value)},required:!0})]}),Object(b.jsxs)("div",{className:"form-input",children:[Object(b.jsx)("label",{className:"form-label",children:"Password"}),Object(b.jsx)("input",{type:"password",value:E,name:"password",id:"password",onChange:function(e){return A(e.target.value)},required:!0})]}),Object(b.jsxs)("div",{className:"form-input form-foot",children:[Object(b.jsxs)("label",{className:"form-label remember",children:[Object(b.jsx)("input",{type:"checkbox",value:P,name:"remember",id:"remember",checked:P,onChange:function(e){return C(e.target.checked)}}),Object(b.jsx)("span",{children:"Remember Me"})]}),Object(b.jsx)(s.b,{to:"/u/forgot",style:{color:"blue"},children:"Forgot Password"})]}),Object(b.jsxs)("div",{className:"form-submit",children:[Object(b.jsx)("button",{className:"form-button login-button active-button",children:"LOGIN"}),Object(b.jsx)(s.b,{to:"/u/register",children:Object(b.jsx)("button",{className:"form-button register-button unactive-button",children:"REGISTER"})})]})]})})}}}]);
//# sourceMappingURL=19.c5c29c22.chunk.js.map