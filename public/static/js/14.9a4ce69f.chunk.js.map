{"version":3,"sources":["images/codeunlock.png","components/Utility/Header.js"],"names":["fetchSearchResult","searchInput","searchResults","addEventListener","a","this","value","style","display","innerHTML","fetchSearch","res","length","map","post","post_slug","post_title","join","e","includes","keyCode","next","activeClass","current","document","querySelector","items","querySelectorAll","nextElementSibling","previousElementSibling","href","window","location","classList","remove","add","Header","user","useContext","UserContext","userState","useState","hambar","setHamBar","useNavbarToggle","isVisible","setVisible","navVisibility","setNavVisibility","showSearchStyle","justifyContent","position","width","top","height","zIndex","backgroundColor","margin","hideSearchStyle","mobileSearch","setMobileSearch","displaySearchPage","useEffect","body","overflowY","className","alignItems","left","onClick","to","src","logo","alt","borderRadius","marginTop","type","name","placeholder","isAuthenticated","avatar","innerWidth","id","parseInt","isAdmin","logout","replace"],"mappings":"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","file":"static/js/14.9a4ce69f.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/codeunlock.8d8bbbeb.png\";","import React, { useState, useEffect, useContext } from 'react';\nimport {UserContext} from '../Context';\nimport {useNavbarToggle} from '../Hooks';\nimport { Link } from 'react-router-dom';\nimport '../../css/Navigation.css';\nimport '../../css/Auth.css'\nimport '../../css/fontawesome/css/all.css'\nimport {fetchSearch} from '../Api/ActionCreators';\nimport logo from '../../images/codeunlock.png';\n\nfunction searchResultHTML(posts){\n    return posts.map(post => {\n        return `\n            <a href=\"/posts/${post.post_slug}\" class=\"search__result\">\n                <strong>${post.post_title}</strong>\n            </a>\n        `\n    }).join('');\n}\n\nfunction fetchSearchResult(searchInput, searchResults){\n    searchInput.addEventListener('input', async function(){\n        if(!this.value){\n            searchResults.style.display = \"none\";\n            return;\n        }\n        searchResults.style.display = \"block\";\n        searchResults.innerHTML = '';\n\n        const res = await fetchSearch(this.value);\n        if(res.length > 0){\n            searchResults.innerHTML = searchResultHTML(res);\n            return;\n        }\n        searchResults.innerHTML = `<div class=\"search__result\">No result found for ${this.value}!</div>`;\n    })\n\n    searchInput.addEventListener('keyup', e => {\n        if(![13,38,40].includes(e.keyCode)){\n            return;\n        }\n        const activeClass = \"search__result--active\";\n        const current = document.querySelector(`.${activeClass}`);\n        const items = document.querySelectorAll('.search__result');\n        let next;\n        if(e.keyCode === 40 && current){\n            next = current.nextElementSibling || items[0];\n        }\n        else if(e.keyCode === 40){\n            next = items[0];\n        }\n        else if(e.keyCode === 38 && current){\n            next = current.previousElementSibling || items[items.length - 1];\n        }\n        else if(e.keyCode === 38){\n            next = items[items.length - 1];\n        }\n        else if(e.keyCode === 13 && current.href){\n            window.location = current.href;\n            return;\n        }\n        current && current.classList.remove(activeClass);\n        next.classList.add(activeClass);\n    })\n}\n\nexport default function Header(){\n    const user = useContext(UserContext).userState;\n    const [hambar, setHamBar] = useState(\"ham-bar\");\n    const [isVisible, setVisible] = useNavbarToggle(false);\n    const [navVisibility, setNavVisibility] = useState(\"hide\")\n\n    // const history = useHistory()\n\n    const toggleMenu = () => {\n        let newClass = hambar === \"ham-bar\" ? \"ham-bar rotate\" : \"ham-bar\";\n        setHamBar(newClass)\n        if(isVisible){\n            setVisible(false)\n            document.body.style.overflowY = \"auto\";\n        }\n        else{\n            setVisible(true)\n            document.body.style.overflowY = \"hidden\";\n        }\n    }\n     \n    const showSearchStyle = {\n        display: \"flex\",\n        justifyContent: \"flex-start\",\n        position: \"fixed\",\n        width: \"100%\",\n        top: \"0\",\n        height: \"50px\",\n        zIndex: \"1000\",\n        backgroundColor: \"white\",\n        margin: \"4px\"\n    }\n    const hideSearchStyle = {\n        display: \"none\",\n        zIndex: \"1000\",\n    }\n\n    const [mobileSearch, setMobileSearch] = useState(hideSearchStyle);\n\n    const displaySearchPage = () => {\n        if(document.querySelector('.search.mobile').style.display === 'none'){\n            setMobileSearch(showSearchStyle)\n        }\n        else{\n            setMobileSearch(hideSearchStyle)\n            document.querySelector('.search-section .search__results').innerHTML = \"\";\n        }        \n    }\n    \n    useEffect(() => {\n        setNavVisibility(() => isVisible ? \"show\" : \"hide\");\n        setHamBar(() => isVisible ? \"ham-bar rotate\" : \"ham-bar\")\n        document.body.style.overflowY = isVisible ? \"hidden\" : \"auto\";\n    }, [isVisible])\n\n    useEffect(() => {\n        \n    }, [])\n    return (\n        <>\n        <header className=\"topbar\" style={{display: \"flex\", alignItems: \"center\"}}>\n            <div className=\"overlay\" \n                 style={{\n                    position: \"fixed\",\n                    top: \"72px\",\n                    left: \"0\",\n                    backgroundColor: \"rgba(0,0,0,0.5)\",\n                    width: \"100vw\",\n                    height: \"100vh\",\n                    zIndex: \"1000\",\n                    display: navVisibility === \"show\" ? \"block\" : \"none\"\n                }}>\n            </div>\n            <div className=\"topleft\">\n                {/* Hamburger Icon */}\n                <div className={hambar} \n                    onClick={toggleMenu} style={{zIndex: \"1000\"}}>\n                    <span className=\"ham1\"></span>\n                    <span className=\"ham2\"></span>\n                    <span className=\"ham3\"></span>\n                </div>\n                {/* LOGO */}\n                <Link to=\"/\" className=\"logo-link\">\n                    <div className=\"logo\" style={{display: 'flex', alignItems: 'center'}}>\n                        <img src={logo} alt=\"Logo\" style={{borderRadius: \"5px\", marginTop: \"2px\"}} width=\"150px\" />\n                        {/* <div style={{fontWeight: \"900\", marginLeft: '4px'}}>CodeUnlock</div> */}\n                    </div>\n                </Link>\n            </div>\n            \n            {/* SEARCH BAR */}\n            <div className=\"topmiddle desktop\">\n                <div className=\"search\">\n                    <i className=\"fas fa-search desktop-search-icon\"></i>\n                    <input type=\"search\" name=\"search\" className=\"search__input\" placeholder=\"Search Post by title or body...\" onClick={() => fetchSearchResult(document.querySelector('.search__input'), document.querySelector('.search__results'))}/>\n                </div>\n                <div style={{position: \"relative\"}}>\n                    <div className=\"search__results\"></div>\n                </div>\n            </div>\n\n            <div className=\"topmiddle mobile\">\n                <div className=\"searchicon\" onClick={displaySearchPage}>\n                    <i className=\"fas fa-search\"></i>\n                </div>\n            </div>\n\n            {/* PROFILE */}\n            {user.isAuthenticated && (\n                <div className=\"header-right\" style={{position: \"relative\", width: \"50px\"}}                        \n                    // onTouchStart={() => {\n                    //     console.log(\"Touched\")\n                    //     document.querySelector(\".user-header\").classList.add(\"hidden\")\n                    //     document.querySelector(\".user-header\").classList.remove(\"visible\")\n                    // }}\n                    // onClick={() => {\n                    //     document.querySelector(\".user-header\").classList.toggle(\"hidden\")\n                    //     document.querySelector(\".user-header\").classList.toggle(\"visible\")\n                    // }}\n                    // onMouseOver={() => {\n                    //     if(window.innerWidth >= \"768\"){\n                    //         document.querySelector(\".user-header\").classList.remove(\"hidden\")\n                    //         document.querySelector(\".user-header\").classList.add(\"visible\")\n                    //     }\n                    // }}\n                    // onMouseOut={() => {\n                    //     if(window.innerWidth >= \"768\"){\n                    //         document.querySelector(\".user-header\").classList.add(\"hidden\")\n                    //         document.querySelector(\".user-header\").classList.remove(\"visible\")\n                    //     }\n                    // }}\n                >\n                    <Link to=\"/u/dashboard\"><img src={user.avatar} alt=\"Avatar\" className=\"avatar user-image\" width=\"30\" height=\"30\"/></Link>\n                    {/* <ul className=\"user-header hidden\">\n                        <li onClick={() => alert(`Hello, ${user.name}`)}>Hello, {user.name}</li>\n                        <li onClick={() => alert(`Notifications - 0`)}>Notifications - 0</li>\n                        <li onClick={() => {\n                            setVisible(false)\n                            user.logout()\n                            window.location.replace(\"/\")\n                        }}>\n                            Logout\n                        </li>\n                    </ul> */}\n                </div>\n            )}\n\n            {/* AUTH BUTTONS */}\n            {!user.isAuthenticated && window.innerWidth > 767 && (\n                <div className=\"header-right login-header\">\n                <Link to=\"/u/login\"><button className=\"form-button login-button active-button\">LOGIN</button></Link>\n                {/* <Link to=\"/register\"><button className=\"form-button register-button unactive-button\">REGISTER</button></Link>                 */}\n                </div>\n            )}\n\n            {/* NAVBAR */}\n            <nav id=\"flyoutMenu\" className={navVisibility}>\n                <ul className=\"menu-list\">\n                    {/* IF USER IS LOGGED IN */}\n                    {user.isAuthenticated && (\n                        <>\n                        <Link to=\"/u/dashboard\">\n                            <li className=\"menu-item user-profile\" onClick={() => setVisible(false)}>\n                                <img src={user.avatar} alt=\"Avatar\" className=\"avatar user-image\" width=\"30\" height=\"30\"/>\n                                <div className=\"username\">{user.name}</div>\n                            </li>\n                        </Link>\n                        <Link to=\"/\"><li onClick={() => setVisible(false)} className=\"menu-item\"><i className=\"fas fa-home\"></i>HOME</li></Link>\n                        <Link to=\"/posts\"><li onClick={() => setVisible(false)} className=\"menu-item\"><i className=\"fas fa-list-alt\"></i>POSTS</li></Link>\n                        <Link to=\"/tags\"><li onClick={() => setVisible(false)} className=\"menu-item\"><i className=\"fas fa-tags\"></i>TAGS</li></Link>\n                        <Link to=\"/u/bookmarks\"><li onClick={() => setVisible(false)} className=\"menu-item\"><i className=\"fas fa-bookmark\"></i>BOOKMARKS</li></Link>\n                        <Link to=\"/u/likes\"><li onClick={() => setVisible(false)} className=\"menu-item\"><i className=\"fas fa-thumbs-up\"></i>LIKES</li></Link>\n                        {/* <Link to=\"/posts\"><li onClick={() => setVisible(false)} className=\"menu-item\"><i className=\"fas fa-comments\"></i>COMMENTS</li></Link> */}\n                        {parseInt(user.isAdmin) === 1 && (<Link to=\"/admin\"><li onClick={() => setVisible(false)} className=\"menu-item\"><i className=\"fas fa-user-lock\"></i>ADMIN</li></Link>)}\n                        <Link to=\"/\"><button \n                            onClick={async () => {\n                                setVisible(false)\n                                await user.logout()\n                                window.location.replace(\"/\")\n                            }} \n                            className=\"form-button logout-button active-button\">LOGOUT</button></Link>\n                        </>\n                    )}\n                    {/* ELSE */}\n                    {!user.isAuthenticated && (\n                        <>\n                            <Link to=\"/\"><li onClick={() => setVisible(false)} className=\"menu-item\"><i className=\"fas fa-home\"></i>HOME</li></Link>\n                            <Link to=\"/posts\"><li onClick={() => setVisible(false)} className=\"menu-item\"><i className=\"fas fa-th-list\"></i>POSTS</li></Link>\n                            <Link to=\"/tags\"><li onClick={() => setVisible(false)} className=\"menu-item\"><i className=\"fas fa-hashtag\"></i>TAGS</li></Link>\n                            <Link to=\"/u/login\"><button onClick={() => setVisible(false)} className=\"form-button logout-button active-button\">LOGIN</button></Link>\n                            <Link to=\"/u/register\"><button onClick={() => setVisible(false)} className=\"form-button nav-reg-button unactive-button\">REGISTER</button></Link>\n                        </>\n                    )}\n\n                </ul>\n            </nav>\n        </header>\n        <div className=\"search-section\">\n            <div className=\"mobile search\" style={mobileSearch}>\n                <input type=\"search\" name=\"search\" className=\"search__input\" placeholder=\"Search Post by title or body...\" onClick={() => fetchSearchResult(document.querySelector('.mobile .search__input'), document.querySelector('.search-section .search__results'))}/>\n                <button className=\"search__hide\" onClick={displaySearchPage}>&times;</button>\n                {/* </div> */}\n            </div> \n            <div className=\"search__results mobile_search__results\"></div>\n        </div>\n        </>\n    )\n}\n"],"sourceRoot":""}